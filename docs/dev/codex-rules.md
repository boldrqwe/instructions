# Правила для Codex / PR-бота

1) **Не менять** `/docs/api/openapi.yaml` без ADR.
2) Следовать пакетной структуре и именованию (см. coding-standards).
3) Любая новая зависимость — через PR с обоснованием.
4) Ошибки — через единый формат JSON (`code`, `message`).
5) Тесты обязательны (юнит + интеграционные где уместно).
6) Для поиска использовать tsvector (см. persistence.md).
7) Публикация статьи возможна только из статуса `DRAFT` (иначе 409).
8) Логировать публикацию `info` с `articleId`, `version`.
9) Любые «магические константы» — в конфиге, не вшивать URL/секреты в код.
